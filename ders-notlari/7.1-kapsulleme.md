# **Ders 28 Notları: Kapsülleme (Encapsulation)**

Selam Dostlar! Bu derste, nesnelerimizin verilerini korumayı ve kontrolsüz değiştirmeleri engellemeyi öğrendik.

### **1. Kapsülleme Nedir?**

Kapsülleme, bir sınıfın içindeki verilerin (`field`) dışarıdan doğrudan erişime kapatılması (`private`) ve bu verilere erişimin kontrollü bir şekilde (`property`) sağlanmasıdır.

- **Amaç:** Veri bütünlüğünü korumak. (Örn: Yaşın negatif girilmesini engellemek).

### **2. Nasıl Uygulanır?**

İki aşamalı bir yapı kurarız:

1. **Field (Alan):** Veriyi saklayan `private` değişken. Genellikle `_` (alt çizgi) ile başlar.
2. **Property (Özellik):** Veriye erişimi yöneten `public` yapı.

```csharp
class Urun
{
    // 1. FIELD (Gizli Kasa)
    private double _fiyat;

    // 2. PROPERTY (Vezne / Kapı)
    public double Fiyat
    {
        // Okuma İzni
        get
        {
            return _fiyat;
        }
        // Yazma İzni ve Kontrolü
        set
        {
            if (value < 0) // 'value' dışarıdan gelen değerdir
            {
                Console.WriteLine("Fiyat negatif olamaz!");
                _fiyat = 0; // Varsayılan değer ata
            }
            else
            {
                _fiyat = value; // Değer uygunsa kasaya koy
            }
        }
    }
}
```

### **3. Salt Okunur (Read-Only) Özellikler**

Bazı özelliklerin dışarıdan değiştirilmesini istemeyiz, sadece okunmasını isteriz. Bunun için `set` bloğunu kullanmayız.

```csharp
// Örnek: KDV dahil fiyatı hesaplayan özellik
public double KdvliFiyat
{
    get
    {
        return _fiyat * 1.20; // Mevcut fiyatın üzerine %20 ekle ve göster
    }
    // set yok -> Dışarıdan değiştirilemez!
}
```

### **Özet Tablo**

| Erişim Tipi                   | Kod Yapısı                                      |
| ----------------------------- | ----------------------------------------------- |
| **Tam Erişim (Okuma/Yazma)**  | Hem `get` hem `set` bloğu var.                  |
| **Sadece Okuma (Read-Only)**  | Sadece `get` bloğu var. (`set` yok).            |
| **Sadece Yazma (Write-Only)** | Sadece `set` bloğu var. (Çok nadir kullanılır). |
